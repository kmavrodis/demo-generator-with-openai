{"id": "8fd0efc5-5f83-4ed7-af1f-ca5c5431b71d", "use_case": "Token calculator with tiktoken python package", "detailed_description": "### Token Calculator Demo\n\n#### Main Features:\n- **Token Count Calculation**: Calculate the number of tokens in a given text using the `tiktoken` Python package.\n- **Token Analysis**: Provide a breakdown of token types and their counts within the text.\n- **Visualization**: Display a token distribution histogram to visualize token frequency.\n\n#### User Interface Elements:\n- **Text Input Area**: A text box for users to input or paste their text.\n- **Analyze Button**: A button to initiate the token calculation and analysis.\n- **Token Count Display**: A section to display the total token count.\n- **Token Breakdown Table**: A table to show different tokens and their respective counts.\n- **Histogram Chart**: A chart to visualize the token distribution.\n\n#### Data Processing Steps:\n1. **Input Text Collection**: User inputs text in the text box.\n2. **Tokenization**: Use `tiktoken` to split the text into tokens.\n3. **Token Count Calculation**: Calculate the total number of tokens.\n4. **Token Breakdown**: Analyze the types of tokens and their frequencies.\n5. **Visualization**: Generate a histogram chart using Plotly to present token distribution.\n6. **Display Results**: Show the token count, token breakdown table, and histogram chart on the interface.\n\n#### Instructions for Engineer:\n- Utilize Streamlit for UI components.\n- Use `tiktoken` for tokenization and analysis.\n- Add visual elements like charts and tables using Plotly or Streamlit's built-in components.\n- Use dummy text data to demonstrate functionality.", "code": "import streamlit as st\nimport os\nimport tiktoken\nimport pandas as pd\nimport plotly.express as px\n\n# Check if tiktoken is installed; if not, install it\ntry:\n    import tiktoken\nexcept ImportError:\n    os.system('pip install tiktoken')\n\n# Page title and description\nst.title('Token Calculator Demo')\nst.write(\"\"\"\n    This app calculates the number of tokens in a given text using the `tiktoken` Python package.\n    It provides a breakdown of token types and their counts within the text, and displays a token distribution histogram.\n\"\"\")\n\n# Text input area\ninput_text = st.text_area(\"Enter text to analyze\", height=200)\n\n# Analyze button\nif st.button('Analyze'):\n    if input_text.strip() == \"\":\n        st.error('Please enter some text for analysis.')\n    else:\n        # Tokenization using tiktoken\n        encoding = tiktoken.get_encoding(\"cl100k_base\")\n        tokens = encoding.encode(input_text)\n        total_tokens = len(tokens)\n        \n        # Token breakdown\n        token_counts = pd.Series(tokens).value_counts().reset_index()\n        token_counts.columns = ['Token', 'Count']\n        token_counts['Token'] = token_counts['Token'].apply(lambda x: encoding.decode([x]))\n\n        # Token count display\n        st.subheader('Total Token Count')\n        st.write(total_tokens)\n        \n        # Token breakdown table\n        st.subheader('Token Breakdown')\n        st.dataframe(token_counts)\n        \n        # Histogram chart\n        st.subheader('Token Distribution Histogram')\n        fig = px.histogram(token_counts, x='Token', y='Count', title='Token Frequency Distribution')\n        st.plotly_chart(fig)"}